<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Javascript on Class &amp; Objects</title>
    <link>http://classandobjects.com/tags/javascript/</link>
    <description>Recent content in Javascript on Class &amp; Objects</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 15 Nov 2016 21:31:53 +0530</lastBuildDate>
    <atom:link href="http://classandobjects.com/tags/javascript/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Moment.js Cheatsheet</title>
      <link>http://classandobjects.com/tutorial/moment-js-cheatsheet/</link>
      <pubDate>Tue, 15 Nov 2016 21:31:53 +0530</pubDate>
      
      <guid>http://classandobjects.com/tutorial/moment-js-cheatsheet/</guid>
      <description>

&lt;p&gt;Handling date and time in JavaScript could be a pain. I am a ruby enthusiast and one thing which I deeply love about it, is its date and time helper. They are easy to use and very intuitive. In JavaScript world, &lt;a href=&#34;www.momentjs.com&#34;&gt;moment.js&lt;/a&gt; comes for the rescue. It has a lot of functionality but I somehow find its syntax a bit daunting. This post aims to provide a list of few most used methods. It shall also serve as a cheatsheet and reminder to everyone. So let&amp;rsquo;s get started.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://classandobjects.com/images/tutorial/momentjs.png&#34; alt=&#34;moment js cheatsheet&#34; title=&#34;Moment js cheatsheet&#34;/&gt;&lt;/p&gt;

&lt;h2 id=&#34;the-moment&#34;&gt;The Moment&lt;/h2&gt;

&lt;p&gt;I will speak less and let the code do the talking.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// returns the current time, same as new Date()
moment()

// get moment object from string, though we should not use them as they are ambiguous.
moment(&amp;quot;10-10-1993&amp;quot;)
moment(&amp;quot;01/12/2015&amp;quot;)

// instead use, it makes sure that your dates are interpreted correctly.
moment(&amp;quot;10-10-1993&amp;quot;, &amp;quot;DD-MM-YYYY&amp;quot;)
moment(&amp;quot;01/12/2015&amp;quot;, &amp;quot;DD/MM/YYYY&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here is a list of few most used parsing tokens:
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Token &lt;/th&gt;
    &lt;th&gt;Description &lt;/th&gt;
    &lt;th&gt;Example &lt;/th&gt;
  &lt;/tr&gt;&lt;/p&gt;

&lt;p&gt;&lt;tr&gt;
    &lt;td&gt;YYYY&lt;/td&gt;
    &lt;td&gt;4 Digit Year&lt;/td&gt;
    &lt;td&gt;2016&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;YY&lt;/td&gt;
    &lt;td&gt;2 Digit Year&lt;/td&gt;
    &lt;td&gt;16&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;MMMM&lt;/td&gt;
    &lt;td&gt;Full Month Name&lt;/td&gt;
    &lt;td&gt;January&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;MMM&lt;/td&gt;
    &lt;td&gt;3 Character Month Name&lt;/td&gt;
    &lt;td&gt;Jan&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;MM&lt;/td&gt;
    &lt;td&gt;2 Digit Month&lt;/td&gt;
    &lt;td&gt;02&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;M&lt;/td&gt;
    &lt;td&gt;1 or 2 Digit Month&lt;/td&gt;
    &lt;td&gt;1&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;DD&lt;/td&gt;
    &lt;td&gt;2 Digit Date&lt;/td&gt;
    &lt;td&gt;09&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;D&lt;/td&gt;
    &lt;td&gt;1 or 2 Digit Date&lt;/td&gt;
    &lt;td&gt;9&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;M&lt;/td&gt;
    &lt;td&gt;1 or 2 Digit Month&lt;/td&gt;
    &lt;td&gt;1&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;HH or H&lt;/td&gt;
    &lt;td&gt;1 or 2 Digit Hour 24hrs&lt;/td&gt;
    &lt;td&gt;23&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;hh or h&lt;/td&gt;
    &lt;td&gt;1 or 2 Digit Hour 12hrs&lt;/td&gt;
    &lt;td&gt;01&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;a or A&lt;/td&gt;
    &lt;td&gt;Am/Pm&lt;/td&gt;
    &lt;td&gt;PM&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;m or mm&lt;/td&gt;
    &lt;td&gt;Minutes&lt;/td&gt;
    &lt;td&gt;59&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;s or ss&lt;/td&gt;
    &lt;td&gt;Seconds&lt;/td&gt;
    &lt;td&gt;23&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Tip: lower case tokens are used for time and upper case tokens are used for date.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;breaking-the-moment&#34;&gt;Breaking The Moment&lt;/h2&gt;

&lt;p&gt;We find ourself most of the time accessing different pieces of information stored in the moment object. It can be &lt;code&gt;date, hour, seconds, etc&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// create the moment object
var now = moment();

// to get todays date
now.date()
now.hour()
now.minute()
now.second()

// we also have get method on moment
now.get(&#39;day&#39;) // returns day of the week
now.get(&#39;millisecond&#39;)

// get unix time
now.unix()

// I have specified the list of all possible vales you can use in get, add and subtract method in the below section.
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;play-the-moment&#34;&gt;Play the Moment&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var now = moment()

// clone moment
var current = moment(now)
// change to utc
now.utc()
// validate the time object
now.isValid()

// add value to a time
// prototype: moment().add(value, scale)
now.add(3, &#39;hours&#39;);
now.subtract(7, &#39;days&#39;)

// jumping to some time
now.startOf(&#39;day&#39;)
now.endOf(&#39;month&#39;)

// possible fields to use
var possibleScales = [year, month, quarter, week, isoWeek, day, date, hour, minute, second]

// use any available token to format time as you need
now.format(&#39;hh:mm a&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;moment.js methods like add and subtract mutates the object itself. This can cause an unseen bug if you are not aware!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Moment.js is very helpful to solve date and time related problems in javascript. It was created to be easy and powerful. With the right exposure we can get our work done easily with &lt;code&gt;momentjs&lt;/code&gt;. If you liked the post, please let us know how can we improve. Thanks for reading.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Add Subscribe Button to Your Website, also Add a Scroll Triggered Subscribe Box</title>
      <link>http://classandobjects.com/tutorial/add_subscribe_button_on_static_site/</link>
      <pubDate>Fri, 16 Sep 2016 22:35:37 +0530</pubDate>
      
      <guid>http://classandobjects.com/tutorial/add_subscribe_button_on_static_site/</guid>
      <description>

&lt;p&gt;Subscribe button is a useful feature to have on any website. It helps you create loyal audience base and helps your users get amazing content from the blogs they love. It can be quite easy to integrate one on a WordPress site or a website with a backend. In this article, I will show you how to add a subscribe button to any static website using &lt;a href=&#34;www.formspree.io&#34;&gt;formspree.io&lt;/a&gt;, &lt;a href=&#34;https://github.com/hubspot/vex&#34;&gt;Vex js&lt;/a&gt; and javascript. I will also show how you can add a subscribe box(popup) when a user has scrolled the page. I am using Hugo as my static site generator, the process is exactly the same for any static site. So let&amp;rsquo;s get started.&lt;/p&gt;

&lt;h2 id=&#34;setup-vex-js&#34;&gt;Setup Vex js&lt;/h2&gt;

&lt;p&gt;I did my little research and found out Vex js is the best dialogue(popup) creator library. It is &lt;strong&gt;light, good looking and has zero dependencies&lt;/strong&gt;, and that is all we need. First, you will need to &lt;a href=&#34;http://github.hubspot.com/vex/api/themes/&#34;&gt;select a theme&lt;/a&gt;, visit the link to see examples of all the themes which you can use. Select the one you like and download it from here. Also download &lt;code&gt;vex-theme-bottom-right-corner&lt;/code&gt;, if you want to do a subscribe popup after scrolling your page. You will need to &lt;a href=&#34;https://github.com/HubSpot/vex/tree/master/dist/js&#34;&gt;download vex.combined.min.js&lt;/a&gt; from this link. Make sure you have one theme CSS file and one Vex combined js file. Now you will want to store this file to your static directory, where you have your Javascript and CSS.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;NOTE: Skip to the next step if you are not using HUGO.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In case of Hugo, I will put it under the themes as follow:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/themes
  /theme-name
    /js
      vex.combined.min.js
    /css
      vex-theme-name.css
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;add-a-subscribe-button&#34;&gt;Add a subscribe button&lt;/h2&gt;

&lt;p&gt;Now, after having set up Vex, we want a form to be shown to the user when  they click the Subscribe button.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
&amp;lt;!-- for normal HTML --&amp;gt;
&amp;lt;!-- include css and js like this --&amp;gt;
&amp;lt;script src=&amp;quot;path/to/myscripts.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; type=&amp;quot;text/css&amp;quot; href=&amp;quot;path/to/mystyle.css&amp;quot;&amp;gt;
&amp;lt;!-- most of the times they are included in the `footer` partial in Hugo. --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!-- Add this button in your html file --&amp;gt;
&amp;lt;button onclick=&amp;quot;subscribe()&amp;quot;&amp;gt;Subscribe&amp;lt;/button&amp;gt;

&amp;lt;script&amp;gt;
function hide (elements) {
  elements = elements.length ? elements : [elements];
  for (var index = 0; index &amp;lt; elements.length; index++) {
    elements[index].style.display = &#39;none&#39;;
  }
}

function subscribe() {
    // replace vex-theme-plain with the name of your theme
    vex.defaultOptions.className = &#39;vex-theme-plain&#39;;
    var vexId = vex.dialog.open({
    message: &#39;Get latest updates, enter your email:&#39;,
    input: [
        &#39;&amp;lt;input name=&amp;quot;email&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;jhondoe@domain.com&amp;quot; required /&amp;gt;&#39;,
    ].join(&#39;&#39;),
    buttons: [
        $.extend({}, vex.dialog.buttons.YES, { text: &#39;Subscribe&#39; }),
        $.extend({}, vex.dialog.buttons.NO, { text: &#39;Back&#39; })
    ],
    callback: function (data) {
        if (!data) {
                }
                else {
            var email_value = data.email;
                        var form = document.createElement(&amp;quot;form&amp;quot;);
                        form.setAttribute(&#39;method&#39;,&amp;quot;post&amp;quot;);
                        //replace below email with your email
                        form.setAttribute(&#39;action&#39;, &amp;quot;http://formspree.io/classandobjects@gmail.com&amp;quot;);

                        var input = document.createElement(&amp;quot;input&amp;quot;); //input element, text
                        input.setAttribute(&#39;type&#39;,&amp;quot;email&amp;quot;);
                        input.setAttribute(&#39;name&#39;,&amp;quot;email&amp;quot;);
                        input.value = email_value;

                        form.appendChild(input);
                        form.submit();
        }
                // In most cases you wont need the below line, but after clicking submit or cancel if the box does not closes for some reason, you will want to uncommnet the line below.
                // hide(document.querySelectorAll(&#39;.vex&#39;));
    },
    });
}
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the above example just replace classandobects@gmail.com with you own email address and the theme name with your selected Vex theme. This should be enough to get you started. Formspree.io allow you to get 1000 emails for free and is fairly easy to use. Until now you have implemented a subscribe option like the one you get when you click the &lt;code&gt;envelope&lt;/code&gt; icon on your left.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;TIP: You will have to verify the first email you get via formspree.io&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;bonus-adding-a-subscribe-form-on-scroll&#34;&gt;Bonus, Adding a subscribe form on scroll&lt;/h2&gt;

&lt;p&gt;Try scrolling below on this site and as you reach around &lt;strong&gt;70%&lt;/strong&gt;, you get a popup to subscribe. You should continue this step if you want to implement something similar to this.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;NOTE: &lt;code&gt;jQuery&lt;/code&gt; is a requirement for this step. There are high chances that you are already using jQuery.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;
  function createSidePopup() {
    if (document.querySelectorAll(&#39;.vex&#39;).length == 0) {
        vex.defaultOptions.className = &#39;vex-theme-bottom-right-corner&#39;;
        var vexId = vex.dialog.open({
        message: &#39;Why not subscribe for more! Email Please&#39;,
        input: [
            &#39;&amp;lt;input name=&amp;quot;email&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;jhondoe@domain.com&amp;quot; required /&amp;gt;&#39;,
        ].join(&#39;&#39;),
        buttons: [
            $.extend({}, vex.dialog.buttons.YES, { text: &#39;Subscribe&#39; }),
            $.extend({}, vex.dialog.buttons.NO, { text: &#39;Back&#39; })
        ],
        callback: function (data) {
            if (!data) {
                    }
                    else {
                var email_value = data.email;
                            var form = document.createElement(&amp;quot;form&amp;quot;);
                            form.setAttribute(&#39;method&#39;,&amp;quot;post&amp;quot;);
                            form.setAttribute(&#39;action&#39;, &amp;quot;http://formspree.io/classandobjects@gmail.com&amp;quot;);

                            var input = document.createElement(&amp;quot;input&amp;quot;);
                            input.setAttribute(&#39;type&#39;,&amp;quot;email&amp;quot;);
                            input.setAttribute(&#39;name&#39;,&amp;quot;email&amp;quot;);
                            input.value = email_value;

                            form.appendChild(input);
                            form.submit();
            }
                    hide(document.querySelectorAll(&#39;.vex&#39;));
        },
        });
    }
}

function onScrollSubscribePopup () {
    {{ if .IsPage }}
    $(document).ready(function() {
        $(window).scroll(function(e){
            var scrollTop = $(window).scrollTop();
            var docHeight = $(document).height();
            var winHeight = $(window).height();
            var scrollPercent = (scrollTop) / (docHeight - winHeight);
            var scrollPercentRounded = Math.round(scrollPercent*100);
            if (scrollPercentRounded &amp;gt; 70 &amp;amp;&amp;amp; scrollPercentRounded &amp;lt;     80) {
                createSidePopup();
            }
        });
    });
    {{ end }}
}
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The code to calculate the scroll percentage has been taken from this &lt;a href=&#34;https://codepen.io/achudars/pen/Cpast&#34;&gt;codepen&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;I believe this post was helpful for creating a subscribe button. If you find any issue with the above code or need any help do let me know in the comments below. Thanks for reading!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>